syntax = "proto3";

option go_package = "nukeship/pb";

enum ResponseStatus {
    OK = 0;
    ROOM_NOT_FOUND = 1;
}

service RoomService {
    rpc CreateRoom (CreateRoomRequest) returns (CreateRoomResponse);
    rpc JoinRoom (JoinRoomRequest) returns (JoinRoomResponse);
    rpc SubscribeMessages (SubscribeMessagesRequest) returns (stream MessageStreamResponse);
}

message SubscribeMessagesRequest {
}

message MessageStreamResponse {
    string message = 1;
}

message CreateRoomRequest {
}

message CreateRoomResponse {
    ResponseStatus status = 1;
    string room_id = 2;
}

message JoinRoomRequest {
    string room_id = 2;
}

message JoinRoomResponse {
    ResponseStatus status = 1;
}
